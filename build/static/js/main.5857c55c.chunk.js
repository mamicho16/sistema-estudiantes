(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,a,t){e.exports=t.p+"static/media/userPhoto.453b4547.jpg"},54:function(e,a,t){e.exports=t.p+"static/media/fotoP.e647a224.png"},57:function(e,a,t){e.exports=t.p+"static/media/faviconTD.19086bdd.ico"},58:function(e,a,t){e.exports=t.p+"static/media/tec.421bf85a.png"},59:function(e,a,t){e.exports=t.p+"static/media/logotec.c3695aa9.png"},62:function(e,a,t){e.exports=t(96)},72:function(e,a,t){},78:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n,l=t(0),r=t.n(l),o=(t(64),t(48)),c=t.n(o),i=t(18),s=t(4),m=t(31),u=t(32);var d=u.a.div(n||(n=Object(m.a)(["\nbackground: #fff;\nwidth: 50%;\nmax-width: 70rem; /* 1110px */\nheight: 50vh;\nmax-height: 50rem;  /* 800px */\nbox-shadow: 0px 1.25rem 2.5rem rgba(0,0,0,.05);\nborder-radius: 2rem; /* 10px */\nmargin: 25vh auto 0 auto; /* Margen superior variable para evitar pegarse arriba */\ndisplay: flex;\nflex-direction: column;\njustify-content: space-between; /* Centra el contenido verticalmente dentro del contenedor */\nposition: relative;\nz-index: 100;\n\n@media(max-width: 60rem){ /* 950px */\n    height: 95vh;\n    max-height: none;\n    margin-top: 2.5vh; /* Margen superior ajustado para mantener el contenedor centrado verticalmente */\n}\n"]))),E=t(12),p=(t(72),t(102)),b=t(104),g=t(56),v=t(99),f=t(54),h=t.n(f);var y,j,N={fondo:"#F9F9F9",colorPrimario:"#5B69E2",colorSecundario:"#000",verde:"#43A854",rojo:"#E34747",grisClaro:"#E8EFF1",grisClaro2:"#CBDDE2",azulClaro:"#8792F1"};const O=Object(u.b)(y||(y=Object(m.a)(["\n    0% {\n        transform: translateY(-1.25rem); /* 20px */\n        opacity: 0;\n    }\n \n    10% {\n        transform: translateY(1.25rem);\n        opacity: 1;\n    }\n    \n    90% {\n        transform: translateY(1.25rem);\n        opacity: 1;\n    }\n \n    100% {\n        transform: translateY(1.25rem);\n        opacity: 0;\n    }\n"]))),C=u.a.div(j||(j=Object(m.a)(["\n    z-index: 1000;\n    width: 100%;\n    left: 0;\n    top: 1.25rem; /* 20px */\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    animation: "," 4s ease forwards;\n \n    p {\n \n        background: ",";\n        color: #fff;\n        padding: 1.25rem 2.5rem; /* 20px 40px */\n        border-radius: 0.31rem; /* 5px */\n        box-shadow: 0px 0px 15px rgba(0,0,0,.1);\n        text-align: center;\n    }\n"])),O,e=>"error"===e.tipo?N.rojo:"exito"===e.tipo?N.verde:"#000");var S=e=>{let{tipo:a,mensaje:t,estadoAlerta:n,setestadoAlerta:o}=e;return Object(l.useEffect)(()=>{let e;return n&&(e=setTimeout(()=>{o(!1)},4e3)),()=>clearTimeout(e)},[n,o]),r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(C,{tipo:a},r.a.createElement("p",null,t)))},w=t(55),x=t(5),k=t(25),A=t(10);Object(w.a)({apiKey:"AIzaSyCVrV5IgyK-bhOkWK_uaej0xQM_qKbo-QA",authDomain:"sistema-estudiantes-92461.firebaseapp.com",projectId:"sistema-estudiantes-92461",storageBucket:"sistema-estudiantes-92461.appspot.com",messagingSenderId:"765619084054",appId:"1:765619084054:web:6ffcca06160a1cf7758e37",measurementId:"G-FT7R7KJREC"});const L=Object(x.f)(),T=Object(k.b)(),D=Object(A.b)(),G=Object(l.createContext)(),R=()=>{const e=Object(l.useContext)(G);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},P=e=>{let{children:a}=e;const[t,n]=Object(l.useState)(null),[o,c]=Object(l.useState)(!0);Object(l.useEffect)(()=>{return Object(k.c)(T,e=>{e?async function(e){c(!0);const a=await async function(e){let a=localStorage.getItem("userDetails");if(a)return JSON.parse(a);{let a=await i(e);return a||(a=await s(e)),a?(localStorage.setItem("userDetails",JSON.stringify(a)),a):null}}(e);n(a),c(!1)}(e.uid):(n(null),c(!1))})},[]);const i=async e=>{const a=Object(x.c)(L,"Profesores/".concat(e)),t=await Object(x.d)(a);return t.exists()?(console.log("Datos del profesor:",t.data()),t.data()):(console.log("No se encontr\xf3 el documento del profesor"),null)},s=async e=>{const a=Object(x.c)(L,"Admins/".concat(e)),t=await Object(x.d)(a);return t.exists()?(console.log("Datos del administrador:",t.data()),t.data()):(console.log("No se encontr\xf3 el documento del administrador"),null)};return r.a.createElement(G.Provider,{value:{user:t,login:async(e,a)=>{try{const l=(await Object(k.d)(T,e,a)).user;if(!l.uid)throw new Error("UID del usuario no est\xe1 disponible");let r,o=await i(l.uid);if(o||(o=await s(l.uid)),!o)throw new Error("No se pudieron obtener los datos del usuario");return r=o.hasOwnProperty("coordinador")?{uid:l.uid,email:l.email,nombre:o.nombre,nombre2:o.nombre2,apellido1:o.apellido1,apellido2:o.apellido2,codigo:o.codigo,celular:o.celular,numOficina:o.numOficina,foto:o.foto,coordinador:o.coordinador,estado:o.estado,sede:o.sede}:{uid:l.uid,email:l.email,nombre:o.nombre,nombre2:o.nombre2,apellido1:o.apellido1,apellido2:o.apellido2,celular:o.celular,sede:o.sede},console.log(r),n(r),!0}catch(t){return console.error("Error en el login:",t),!1}},register:async(e,a)=>{try{const n=(await Object(k.a)(T,e,a).then(e=>e)).user,l=Object(x.c)(L,"Profesores/".concat(n.uid));Object(x.i)(l,{email:e,nombre:"Rafael",nombre2:"Mauricio",apellido1:"Arroyo",apellido2:"Herrera",codigo:"CA-01",celular:"88888888",numOficina:"1",foto:"",coordindor:!1,estado:"activo"})}catch(t){console.log(t)}},logout:async()=>{try{await Object(k.e)(T),n(null),localStorage.removeItem("userDetails"),console.log(t)}catch(e){console.log(e)}},registerAdmin:async(e,a)=>{try{const n=(await Object(k.a)(T,e,a).then(e=>e)).user,l=Object(x.c)(L,"Admins/".concat(n.uid));Object(x.i)(l,{email:e,nombre:"Ariana",nombre2:"",apellido1:"Guillen",apellido2:"Masis",celular:"12345678",sede:"San Jose"})}catch(t){console.log(t)}}}},!o&&a)};var F,I=()=>{const{login:e,register:a,registerAdmin:t}=R(),n=Object(s.q)(),[o,c]=Object(l.useState)(""),[i,m]=Object(l.useState)(""),[u,f]=Object(l.useState)(!1),[y,j]=Object(l.useState)({}),N=e=>{"email"===e.target.id?c(e.target.value):m(e.target.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("title",null,"Iniciar sesi\xf3n")),r.a.createElement(d,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row img"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:h.a,alt:"fotoP",className:"mx-auto"})),r.a.createElement("div",{className:"col centered-column"},r.a.createElement("h1",{className:"h1-custom"}," Ingrese su usuario "),r.a.createElement(p.a,{id:"form",onSubmit:async a=>{a.preventDefault(),f(!1),j({});const t=/[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+/.test(o);if(""===i||""===o)return f(!0),void j({tipo:"error",mensaje:"Todos los campos son obligatorios"});if(!t)return f(!0),void j({tipo:"error",mensaje:"Correo no v\xe1lido"});try{await e(o,i)?n("/"):(f(!0),j({tipo:"error",mensaje:"No se pudo iniciar sesi\xf3n"}))}catch(l){console.error("Error en login:",l),f(!0),j({tipo:"error",mensaje:"No se pudo iniciar sesi\xf3n"})}}},r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,{htmlFor:"email"}," "),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"email",id:"email",value:o,placeholder:"Email",onChange:N}),r.a.createElement("div",{className:"error"}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,{htmlFor:"password"}),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"password",id:"password",value:i,placeholder:"Password",onChange:N}),r.a.createElement("div",{className:"error"}))),r.a.createElement("div",{className:"text-center"},r.a.createElement(v.a,{className:"boton",type:"submit",id:"submit"},"Log In"))))))),r.a.createElement(S,{tipo:y.tipo,mensaje:y.mensaje,estadoAlerta:u,setestadoAlerta:f}))},B=t(57),U=t.n(B);var q=u.a.div(F||(F=Object(m.a)(["\n    background-color: #B7D0FF; // Color de fondo azul\n    height: 100vh; // Altura completa de la vista\n    width: 100vw; // Ancho completo de la vista\n    position: fixed; // Posicionamiento fijo respecto a la ventana del navegador\n    top: 0; // Inicio en la parte superior de la ventana\n    left: 0; // Inicio en la parte izquierda de la ventana\n    z-index: -1; // Establecer el \xedndice Z negativo para enviar al fondo\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),M=t(100),_=t(101);t(78);var H=e=>{let{titulo:a}=e;const{logout:t}=R(),n=Object(s.q)();return r.a.createElement(M.a,{bg:"light",variant:"light",className:"navbar"},r.a.createElement(M.a.Brand,{className:"brand",onClick:()=>{n("/inicio")}},a),r.a.createElement(_.a,{className:"nav"},r.a.createElement(_.a.Link,{onClick:async()=>{t(),n("/iniciarsesion")},style:{color:"#2A67C3"}}," Cerrar sesi\xf3n")))},J=t(58),z=t.n(J),Y=t(59),K=t.n(Y);t(81);var W=()=>{const{user:e}=R(),a=Object(s.q)();let t=!1,n=!1;void 0===e.coordinador?t=!0:n=!!e.coordinador;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("title",null,"Inicio - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",null,r.a.createElement(H,{titulo:"Inicio"}),r.a.createElement("div",{className:"logo-image"},r.a.createElement("img",{src:K.a,alt:"Tecnol\xf3gico de Costa Rica"})),r.a.createElement("div",{className:"main-image"},r.a.createElement("img",{src:z.a,alt:"Tecnol\xf3gico de Costa Rica"})),r.a.createElement("div",{className:"subtitulo"},r.a.createElement("h1",null," Que desea realizar? ")),r.a.createElement("div",{className:"button-container"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/edicionGuia")}},"Informaci\xf3n Profesores"),r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/historial")}},"Historial Profesores"),r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/ListaDeEstudiantes")}},"Lista Estudiantes")),r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/equipoGuia")}},"Equipo Guia"),r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/planTrabajoGuia")}},"Plan de Trabajo"),!t&&r.a.createElement("button",{className:"menu-button",onClick:()=>{a("/ListaDeEstudiantesProfesores")}},"Lista Estudiantes"))))};t(82);var Z=e=>{let{user:a}=e;return r.a.createElement("div",{className:"user-card"},r.a.createElement("div",{className:"user-info"},r.a.createElement("img",{src:a.imageUrl,alt:"user",className:"user-image"}),r.a.createElement("div",{className:"user-name"},a.name)),r.a.createElement("div",{className:"user-details"},r.a.createElement("div",null,r.a.createElement("strong",null,"Sede:")," ",a.location),r.a.createElement("div",null,r.a.createElement("strong",null,"Codigo:")," ",a.code),r.a.createElement("div",null,r.a.createElement("strong",null,"Correo Electronico:")," ",a.email),r.a.createElement("div",null,r.a.createElement("strong",null,"N\xfamero Oficina:")," ",a.officeNumber),r.a.createElement("div",null,r.a.createElement("strong",null,"Telefono Celular:")," ",a.cellNumber)))};t(44),t(83);const Q=e=>{const a=e.name.split(" "),t=a[0]||"",n=a.length>1?a[1]:"",l=a.length>2?a[2]:"",r=a.length>3?a[3]:"";return{email:e.email,nombre:t,nombre2:n,apellido1:l,apellido2:r,celular:e.cellNumber,numOficina:e.officeNumber,coordinador:e.coordinador||!1,sede:e.location.trim()}},V=async(e,a,t,n,l,r,o,c,i,s,m,u)=>{if(function(e,a,t,n,l,r,o,c,i,s,m){const u="string"===typeof e&&""!==e.trim()&&"string"===typeof o||null===o&&"string"===typeof c&&""!==c.trim()&&"string"===typeof i||null===o,d="string"===typeof a||null===a||void 0===a,E=["San Jose","Cartago","Limon","Alajuela","San Carlos"].includes(t),p="string"===typeof n&&""!==n.trim(),b="string"===typeof l,g=8===r.length,v="boolean"===typeof s,f="boolean"===typeof m;return console.log(u,d,E,p,b,g,v,f),u&&d&&E&&p&&b&&g&&f&&v}(e,a,t,n,l,r,o,c,i,s,m))try{const E=await Object(k.a)(T,n,u),p=await async function(e,a,t,n,l,r,o,c,i,s,m,u){let d,E=l.substring(0,4)+"-"+l.substring(4),p=r.substring(0,4)+"-"+r.substring(4);if("San Jose"===t){const e=await $("SJ"),a=1;await ee(e.id,{cont:a}),d="SJ-".concat(e.count)}else if("Cartago"===t){const e=await $("CA"),a=e.count+1;await ee(e.id,{cont:a}),d="CA-".concat(e.count)}else if("San Carlos"===t){const e=await $("SC"),a=e.count+1;await ee(e.id,{cont:a}),d="SC-".concat(e.count)}else if("Alajuela"===t){const e=await $("AL"),a=e.count+1;await ee(e.id,{cont:a}),d="AL-".concat(e.count)}else if("Limon"===t){const e=await $("LI"),a=e.count+1;await ee(e.id,{cont:a}),d="LI-".concat(e.count)}return{nombre:e,nombre2:o,apellido1:c,apellido2:i,foto:a,sede:t,email:n,numOficina:E,celular:p,codigo:d,coordinador:s,estado:m}}(e,a,t,n,l,r,o,c,i,s,m),b=Object(x.c)(L,"Profesores/".concat(E.user.uid));Object(x.i)(b,p)}catch(d){console.error("Error adding document or creating user: ",d)}else console.error("Invalid professor data")},X=async()=>{try{return(await Object(x.e)(Object(x.b)(L,"Profesores"))).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching documents: ",e),[]}};async function $(e){try{const t=(await Object(x.e)(Object(x.b)(L,"Contador"))).docs.find(a=>a.data().Name===e);return t?{id:t.id,count:t.data().cont}:null}catch(a){return console.error("Error fetching contador: ",a),null}}async function ee(e,a){try{Object(x.j)(Object(x.c)(L,"Contador",e),a)}catch(t){console.error("Error updating contador: ",t)}}var ae=()=>{const[e,a]=Object(l.useState)(""),[t,n]=Object(l.useState)([]);r.a.useEffect(()=>{(async()=>{try{const a=(await X()).map(e=>({name:e.nombre+" "+e.nombre2+" "+e.apellido1+" "+e.apellido2,imageUrl:e.foto,location:e.sede+" ",code:e.codigo,email:e.email,officeNumber:e.numOficina,cellNumber:e.celular}));n(a)}catch(e){console.error("Error fetching professors: ",e)}})()},[]);const o=t.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.location.toLowerCase().includes(e.toLowerCase()));return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Historial"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Historial - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:".subtituloH"},r.a.createElement("h1",null," Historial docentes asignados ")),r.a.createElement("div",{className:"card-container"},o.map(e=>r.a.createElement(Z,{key:e.email,user:e}))),r.a.createElement("div",null,r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("input",{type:"text",placeholder:"Ingrese la sede",value:e,onChange:e=>a(e.target.value)}))))};const te=()=>{const{user:e}=R();return null===e?r.a.createElement(s.a,{to:"/iniciarsesion"}):r.a.createElement(s.b,null)};t(84);var ne=()=>{const[e,a]=Object(l.useState)(""),[t,n]=Object(l.useState)([]),[o,c]=Object(l.useState)("");r.a.useEffect(()=>{(async()=>{try{const a=(await X()).filter(e=>!0===e.estado).map(e=>({name:"".concat(e.nombre," ").concat(e.nombre2||""," ").concat(e.apellido1," ").concat(e.apellido2),imageUrl:e.foto,location:e.sede,code:e.codigo,email:e.email,officeNumber:e.numOficina,cellNumber:e.celular}));n(a)}catch(e){console.error("Error fetching professors: ",e)}})()},[]);const i=o?t.filter(e=>e.location===o):t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Equipo Guia"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Equipo Guia - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:".subtituloH"},r.a.createElement("h1",null,"Equipo Guia de docentes asignados")),r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("select",{onChange:e=>c(e.target.value),className:"location-dropdown"},r.a.createElement("option",{value:""},"Escoge la Sede"),r.a.createElement("option",{value:"Cartago"},"Cartago"),r.a.createElement("option",{value:"San Jose"},"San Jose"),r.a.createElement("option",{value:"Limon"},"Limon"),r.a.createElement("option",{value:"San Carlos"},"San Carlos"),r.a.createElement("option",{value:"Puntarenas"},"Puntarenas"))),r.a.createElement("div",{className:"card-container"},i.map(e=>r.a.createElement(Z,{key:e.email,user:e}))))};t(85),t(86);var le=function(e){let{professor:a,onClose:t,onSave:n}=e;const[o,c]=Object(l.useState)({name:a.name,email:a.email,location:a.location,officeNumber:a.officeNumber,cellNumber:a.cellNumber}),i=e=>{const{name:a,value:t}=e.target;c(e=>({...e,[a]:t}))};return Object(l.useEffect)(()=>{c({name:a.name,email:a.email,location:a.location,officeNumber:a.officeNumber,cellNumber:a.cellNumber})},[a]),r.a.createElement("div",{className:"modal"},r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Saving changes for professor:",a.code,o),await n(a.code,o),t()}catch(l){console.error("Failed to update professor:",l)}}},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:o.name,onChange:i}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",value:o.email,onChange:i}),r.a.createElement("label",null,"Office Number:"),r.a.createElement("input",{type:"text",name:"officeNumber",value:o.officeNumber,onChange:i}),r.a.createElement("label",null,"Cell Number:"),r.a.createElement("input",{type:"text",name:"cellNumber",value:o.cellNumber,onChange:i}),r.a.createElement("button",{type:"submit"},"Save Changes"),r.a.createElement("button",{type:"button",onClick:t},"Cancel")))};var re=()=>{const e=Object(s.q)(),[a,t]=Object(l.useState)([]),[n,o]=Object(l.useState)(null),c=Object(s.o)();Object(l.useEffect)(()=>{i()},[c]);const i=async()=>{try{const a=(await X()).filter(e=>!0===e.estado).map(e=>({name:e.nombre+" "+e.nombre2+" "+e.apellido1+" "+e.apellido2,imageUrl:e.foto,location:e.sede+" ",code:e.codigo,email:e.email,officeNumber:e.numOficina,cellNumber:e.celular,estado:e.estado}));t(a)}catch(e){console.error("Error fetching professors: ",e)}},m=async e=>{await(async e=>{if(!e)throw console.error("Provided 'codigoUnico' is undefined"),new Error("Invalid 'codigoUnico' provided. It must not be undefined.");const a=Object(x.b)(L,"Profesores"),t=Object(x.g)(a,Object(x.k)("codigo","==",e));try{const a=await Object(x.e)(t);if(a.empty)throw console.log("No matching documents found with code:",e),new Error("No matching professor found to delete");a.forEach(async a=>{const t=a.ref;console.log("Deleting professor with code:",a.data()),await Object(x.j)(t,{estado:!1}),console.log("Professor inactive successfully with code:",e)})}catch(n){throw console.error("Error deleting professor: ",n),new Error("Failed to delete professor")}})(e.code),i()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Equipo Gu\xeda",id:!0}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Equipo Gu\xeda - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:"subtituloH"},r.a.createElement("h1",null,"Docentes Asignados"),r.a.createElement("button",{className:"add-button",onClick:()=>{e("/agregarProfesor")}},"+")),r.a.createElement("div",{className:"card-container"},a.map(e=>r.a.createElement("div",{className:"user-card-wrapper",key:e.email,style:{marginBottom:"20px",border:"1px solid #ccc",padding:"20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"}},r.a.createElement(Z,{user:e}),r.a.createElement("div",{className:"pag-buttons"},r.a.createElement("button",{type:"button",onClick:()=>(e=>{console.log("Editing user:",e),o(e)})(e)},"Editar"),r.a.createElement("button",{type:"button",onClick:()=>m(e)},"Baja"))))),n&&r.a.createElement(le,{professor:n,onClose:()=>{o(null)},onSave:async(e,a)=>{await(async(e,a)=>{if(!e)throw console.error("Provided 'codigoUnico' is undefined"),new Error("Invalid 'codigoUnico' provided. It must not be undefined.");const t=Object(x.b)(L,"Profesores"),n=Object(x.g)(t,Object(x.k)("codigo","==",e));try{const t=await Object(x.e)(n);if(t.empty)throw console.log("No matching documents found with code:",e),new Error("No matching professor found to update");t.forEach(async t=>{const n=t.ref;console.log("Updating professor with code:",t.data()),a=Q(a),console.log("New professor data:",a),await Object(x.j)(n,a),console.log("Professor updated successfully with code:",e)})}catch(l){throw console.error("Error updating professor: ",l),new Error("Failed to update professor")}})(e,a),i()}}))};t(87);var oe=e=>{let{activity:a}=e;const t=Object(s.q)();return r.a.createElement("div",{className:"activity-card"},r.a.createElement("div",{className:"activity-info"},r.a.createElement("img",{src:a.poster,alt:"activity",className:"activity-image",onClick:()=>(e=>{t("/verEvidencia/".concat(e))})(a.id)}),r.a.createElement("div",{className:"activity-name"},a.activityName),r.a.createElement("div",{className:"activity-type"},a.activityType)),r.a.createElement("div",{className:"activity-details"},r.a.createElement("div",null,r.a.createElement("strong",null,"Fecha:")," ",new Date(a.dateTime).toLocaleDateString()),r.a.createElement("div",null,r.a.createElement("strong",null,"Hora:")," ",new Date(a.dateTime).toLocaleTimeString()),r.a.createElement("div",null,r.a.createElement("strong",null,"Semana:")," ",a.week),r.a.createElement("div",null,r.a.createElement("strong",null,"Docente responsable:")," ",(e=>e.join(", "))(a.responsibles)),r.a.createElement("div",null,r.a.createElement("strong",null,"Dias antes de anunciar:")," ",a.daysBeforeAnnounce),r.a.createElement("div",null,r.a.createElement("strong",null,"Dias recordatorio:")," ",a.reminderDays),r.a.createElement("div",null,r.a.createElement("strong",null,"Modalidad:")," ",a.modality),r.a.createElement("div",null,r.a.createElement("strong",null,"Enlace:")," ","Remota"===a.modality?r.a.createElement("a",{href:a.link,target:"_blank"},"Link"):"N/A"),r.a.createElement("div",null,r.a.createElement("strong",null,"Estado:")," ",a.state)))};t(88);const ce=async e=>{try{const t=Object(x.b)(L,"comentarios"),n=await Object(x.e)(Object(x.g)(t,Object(x.k)("actividad","==",e))),l=[];return n.forEach(e=>{l.push({id:e.id,emailUsuario:e.data().emailUsuario,texto:e.data().texto,actividad:e.data().actividad,fecha:e.data().fecha})}),l.sort((e,a)=>e.fecha-a.fecha),console.log("Comentarios obtenidos exitosamente:",l),l}catch(a){throw console.error("Error al obtener los comentarios del usuario:",a),a}};t(89);var ie=function(e){let{activity:a,onClose:t}=e;const[n,o]=Object(l.useState)([]),[c,i]=Object(l.useState)(""),[s,m]=Object(l.useState)(0),[u,d]=Object(l.useState)(!1);return r.a.createElement("div",{className:"modal"},r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Upload Images"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"file",multiple:!0,accept:"image/*",onChange:e=>{e.target.files&&e.target.files.length>5?alert("You can only upload up to 5 images."):e.target.files&&e.target.files.length>0&&o(e.target.files)}}))),"Remota"===a.modality&&r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Recording Link"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Enter recording link",value:c,onChange:e=>{i(e.target.value)}}))),r.a.createElement(v.a,{className:"Button",variant:"primary",onClick:async()=>{d(!0);const e=[],l=[];Array.from(n).forEach((t,n)=>{const r=Object(A.c)(D,"evidences/".concat(a.id,"/").concat(t.name)),o=Object(A.e)(r,t);e.push(new Promise((e,a)=>{o.on("state_changed",e=>{const a=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+a+"% done"),m(a)},e=>{console.error("Error uploading file:",e),a(e),d(!1)},async()=>{const a=await Object(A.a)(o.snapshot.ref);console.log("File available at ".concat(a)),l.push(a),e(a)})}))});try{await Promise.all(e),console.log("All files uploaded"),console.log(a);const n=Object(x.c)(L,"activities",a.id);await Object(x.j)(n,{imageUrls:l,link:c,state:"REALIZADA"}),console.log("Activity updated with image URLs"),t()}catch(r){console.error("Error while uploading:",r),alert("Error al subir im\xe1genes. Por favor, intenta de nuevo.")}finally{d(!1)}},disabled:u},u?"Uploading (".concat(s.toFixed(2),"%)"):"Upload"),r.a.createElement(v.a,{className:"Button",variant:"secondary",onClick:t},"Cancel")))};t(90);var se=function(e){let{activity:a,onClose:t,onSave:n}=e;const[o,c]=Object(l.useState)({activityName:a.activityName,activityType:a.activityType,dateTime:a.dateTime,week:a.week,responsibles:a.responsibles,daysBeforeAnnounce:a.daysBeforeAnnounce,reminderDays:a.reminderDays,modality:a.modality,link:a.link,poster:a.poster,state:a.state,justification:a.justification||""}),i=e=>{const{name:a,value:t}=e.target;c(e=>({...e,[a]:t}))};function s(e){const a=new Date(e),t=a.getFullYear(),n="".concat(a.getMonth()+1).padStart(2,"0"),l="".concat(a.getDate()).padStart(2,"0"),r="".concat(a.getHours()).padStart(2,"0"),o="".concat(a.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(l,"T").concat(r,":").concat(o)}return Object(l.useEffect)(()=>{c({activityName:a.activityName,activityType:a.activityType,dateTime:s(a.dateTime),week:a.week,responsibles:a.responsibles,daysBeforeAnnounce:a.daysBeforeAnnounce,reminderDays:a.reminderDays,modality:a.modality,link:a.link,poster:a.poster,state:a.state,justification:a.justification||""})},[a]),r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement(p.a,{id:"form",onSubmit:async e=>{e.preventDefault();try{console.log("Saving changes for activity:",a.id,o),await n(a.id,o),t()}catch(l){console.error("Failed to update activity:",l)}}},r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Nombre de la actividad"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",name:"activityName",placeholder:"Enter the name of the activity",value:o.activityName,onChange:i}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Tipo de actividad"),r.a.createElement(b.a,null,r.a.createElement(g.a,{as:"select",name:"activityType",value:o.activityType,onChange:i},r.a.createElement("option",{value:""},"Selecciona un tipo de actividad"),r.a.createElement("option",{value:"Orientadora"},"Orientadora"),r.a.createElement("option",{value:"Motivacional"},"Motivacional"),r.a.createElement("option",{value:"Apoyo a la vida estudiantil"},"Apoyo a la vida estudiantil"),r.a.createElement("option",{value:"Orden tecnico"},"Orden tecnico"),r.a.createElement("option",{value:"Recreacion"},"Recreacion")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Fecha y hora"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"datetime-local",name:"dateTime",value:o.dateTime,onChange:i}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Semana"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",name:"week",min:"1",max:"16",placeholder:"Semana del semestre",value:o.week,onChange:i})),r.a.createElement(p.a.Text,{className:"text-muted"},"Semana del semestre en la que se realizar\xe1 la actividad.")),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Responsables"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",name:"responsibles",placeholder:"Responsables",value:o.responsibles,onChange:i})),r.a.createElement(p.a.Text,{className:"text-muted"},"Ingrese los nombres de los responsables separados por comas.")),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"D\xedas antes de anunciar"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",name:"daysBeforeAnnounce",placeholder:"D\xedas antes de anunciar",value:o.daysBeforeAnnounce,onChange:i}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"D\xedas de recordatorio"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",name:"reminderDays",placeholder:"D\xedas de recordatorio",value:o.reminderDays,onChange:i}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Modalidad"),r.a.createElement(b.a,null,r.a.createElement(g.a,{as:"select",name:"modality",value:o.modality,onChange:i},r.a.createElement("option",{value:""},"Seleccione una modalidad"),r.a.createElement("option",{value:"Presencial"},"Presencial"),r.a.createElement("option",{value:"Remota"},"Remoto")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Link"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",name:"link",placeholder:"Enter link if remote",value:o.link,disabled:"Remota"!==o.modality,readOnly:"Remota"!==o.modality,onChange:i}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Estado"),r.a.createElement(b.a,null,r.a.createElement(g.a,{as:"select",name:"state",value:o.state,onChange:i},r.a.createElement("option",{value:""},"Seleccione un estado"),r.a.createElement("option",{value:"Planeada"},"Planeada"),r.a.createElement("option",{value:"Cancelada"},"Cancelada")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Justificaci\xf3n por cambio"),r.a.createElement(b.a,null,r.a.createElement(g.a,{as:"textarea",name:"justification",placeholder:"Justifcacion",value:o.justification,onChange:i})),r.a.createElement(p.a.Text,{className:"text-muted"},"Por favor brinde una justificaci\xf3n si el estado de la actividad cambia.")),r.a.createElement(v.a,{className:"Button",variant:"primary",type:"submit"},"Guardar cambios"),r.a.createElement(v.a,{className:"Button",variant:"secondary",type:"button",onClick:t},"Cancelar"))))};var me=()=>{const{user:e}=R(),[a,t]=Object(l.useState)(!1),[n,o]=Object(l.useState)([]),[c,i]=Object(l.useState)(0),m=Object(s.q)(),[u,d]=Object(l.useState)(null),[p,b]=Object(l.useState)(null),[g,v]=Object(l.useState)(!1),[f,h]=Object(l.useState)(!1);Object(l.useEffect)(()=>{y()},[]);const y=async()=>{try{const a=(await Object(x.e)(Object(x.b)(L,"activities"))).docs.map(e=>({id:e.id,...e.data()}));o(a),console.log(a)}catch(e){console.error("Error fetching activities:",e)}},[j,N]=Object(l.useState)(""),[O,C]=Object(l.useState)([]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Plan de Trabajo",id:"navBar"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Plan de Trabajo - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:"subtituloH"},r.a.createElement("h1",null,"Lista de trabajos existentes"),e.coordinador&&r.a.createElement("button",{className:"add-button",onClick:()=>{m("/agregarActividad")}},"+")),r.a.createElement("div",{className:"PlanTrabajoGuia"},n.map((a,l)=>r.a.createElement("div",{key:l,className:"activity-full-container"},r.a.createElement(oe,{activity:a}),r.a.createElement("div",{className:"activity-buttons"},e.coordinador&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:()=>(e=>{console.log("Editing activity:",e),d(e),v(!0)})(a)},"Registrar Evidencia"),r.a.createElement("button",{type:"button",onClick:()=>(e=>{console.log("Editing activity:",e),b(e),h(!0)})(a)},"Editar Actividad")),r.a.createElement("button",{type:"button",onClick:()=>{(e=>{console.log(n[e].id),ce(n[e].id).then(e=>{C(e),t(!0)}).catch(e=>{t(!0),console.error("No hay comentarios")})})(l),i(l)}},"Comentarios"))))),a&&r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("span",{className:"close",onClick:()=>{t(!1)}},"\xd7"),r.a.createElement("h2",null,"Comentarios"),r.a.createElement("div",{className:"comentarios-lista"},O.map((e,a)=>r.a.createElement("div",{key:a,className:"comentario"},r.a.createElement("p",null,"Usuario: ",e.emailUsuario),r.a.createElement("p",null,"Comentario: ",e.texto)))),r.a.createElement("div",{className:"comentario-nuevo"},r.a.createElement("textarea",{value:j,onChange:e=>{N(e.target.value)},placeholder:"Escribe tu comentario aqu\xed..."}),r.a.createElement("button",{onClick:async()=>{try{const l=e.email;await(async(e,a,t)=>{try{const l=Object(x.b)(L,"comentarios"),r=await Object(x.a)(l,{emailUsuario:e,texto:a,actividad:t,fecha:Object(x.h)()});return console.log("Comentario guardado exitosamente:",r),r.id}catch(n){throw console.error("Error al guardar el comentario:",n),n}})(l,j,n[c].id),N(""),console.log(n[c].id),ce(n[c].id).then(e=>{C(e),t(!0)}).catch(e=>{t(!0),console.error("No hay comentarios")})}catch(a){console.error("Error al publicar comentario:",a)}}},"Publicar")))),g&&r.a.createElement(ie,{activity:u,onClose:()=>{v(!1)}}),f&&r.a.createElement(se,{activity:p,onClose:()=>h(!1),onSave:async(e,a)=>{const t=Object(x.c)(L,"activities",e);try{await Object(x.j)(t,a),console.log("Activity updated successfully!"),h(!1)}catch(n){console.error("Error updating activity:",n),alert("Failed to update activity.")}y()}}),r.a.createElement("div",{className:"page-buttons"},r.a.createElement("button",{type:"button",onClick:()=>{window.history.back()}},"Regresar")))},ue=(t(91),t(19));const de=async e=>{try{const t=Object(x.b)(L,"archivos"),n=await Object(x.e)(Object(x.g)(t,Object(x.k)("sede","==",e)));let l=null;if(n.forEach(e=>{l={archivoRef:e.data().archivoRef,sede:e.data().sede}}),!l)throw new Error("No se encontraron archivos para la sede especificada.");const r=Object(A.b)(),o=Object(A.c)(r,l.archivoRef),c=await Object(A.a)(o),i=await fetch(c),s=await i.blob(),m=new File([s],l.archivoRef);return console.log("Archivo descargado exitosamente:",m),m}catch(a){console.error("Error al cargar los archivos:",a)}};var Ee=()=>{const{user:e}=R(),[a,t]=Object(l.useState)([[]]),[n,o]=Object(l.useState)("Cambiar Excel"),[c,i]=Object(l.useState)(!0),[s,m]=Object(l.useState)(!1),[u,d]=Object(l.useState)({}),p=Object(l.useRef)(null),b=Object(l.useRef)(null),g=Object(l.useRef)(null),[v,f]=Object(l.useState)(!1),[h,y]=Object(l.useState)(!1);Object(l.useEffect)(()=>{de(e.sede).then(e=>{console.log(e),j(e)}).catch(e=>{console.error("Error al cargar los archivos:",e),m(!0),d({tipo:"error",mensaje:"No se pudo cargar los archivos"})})},[e.sede]);const j=e=>{const a=new FileReader;a.onload=function(e){const a=new Uint8Array(e.target.result),n=ue.a(a,{type:"array"}),l=n.SheetNames[0],r=n.Sheets[l],o=ue.b.sheet_to_json(r,{header:1});t(o)},a.readAsArrayBuffer(e)},N=()=>{i(!c),v?(p.current.disabled=!0,b.current.disabled=!0,g.current.disabled=!0,o("Cambiar Excel")):(p.current.disabled=!1,b.current.disabled=!1,g.current.disabled=!1,o("Cancelar")),f(!v)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Lista De Estudiantes"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Lista De Estudiantes - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:"subtituloH"},r.a.createElement("h1",null,"Lista de Estudiantes de la sede del TEC")),r.a.createElement("label",{className:"file-label",ref:g,htmlFor:"excelFileInput",disabled:!0},"Subir archivo"),r.a.createElement("input",{className:"file",type:"file",id:"excelFileInput",ref:b,accept:".xlsx, .xls",onChange:e=>{const a=e.target.files[0];j(a)},disabled:!0}),r.a.createElement("div",{className:"excelDataContainer"},r.a.createElement("div",{className:"tableWrapper"},r.a.createElement("table",{className:"excelTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"indexCell"})," ",a.length>0&&a[0].map((e,a)=>r.a.createElement("td",{key:a,className:"indexCell"},(()=>{const e=[];for(let a=65;a<=90;a++)e.push(String.fromCharCode(a));return e})()[a]))),[...Array(a.length).keys()].map(e=>r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"indexCell"},e+1)," ",a[e].map((e,a)=>r.a.createElement("td",{key:a},e)))))))),r.a.createElement("button",{ref:p,className:"excel-button",onClick:async()=>{try{const t=document.getElementById("excelFileInput");if(0===t.files.length)return void console.log("No se ha seleccionado ning\xfan archivo.");const n=t.files[0];console.log(e.sede),await(async(e,a)=>{try{const n=Object(A.b)();console.log(e.name);const l=Object(A.c)(n,"/excel/".concat(a,".xlsx"));await Object(A.d)(l,e);const r=Object(x.b)(L,"archivos"),o=await Object(x.e)(Object(x.g)(Object(x.b)(L,"archivos"),Object(x.k)("sede","==",a)));if(o.empty)return await Object(x.a)(r,{sede:a,archivoRef:"/excel/".concat(a,".xlsx")});{const e=o.docs[0];return await Object(x.j)(e.ref,{archivoRef:"/excel/".concat(a,".xlsx")}),e.ref}}catch(t){throw console.error("Error al subir el archivo:",t),t}})(n,e.sede),y(!0),N()}catch(a){console.error("Error en subir archivo:",a),m(!0),d({tipo:"error",mensaje:"No se pudo iniciar sesi\xf3n"})}},disabled:c},"Guardar Excel"),r.a.createElement("button",{className:"excel-button2",onClick:N},n),h&&r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("span",{className:"close",onClick:()=>y(!1)},"\xd7"),r.a.createElement("div",{className:"alert alert-success",role:"alert"},"El archivo se ha cargado correctamente."))))},pe=(t(92),t(103));var be=()=>{const e=Object(s.q)(),[a,t]=Object(l.useState)(""),[n,o]=Object(l.useState)(""),[c,i]=Object(l.useState)(""),[m,u]=Object(l.useState)(""),[d,f]=Object(l.useState)(""),[h,y]=Object(l.useState)(""),[j,N]=Object(l.useState)(0),[O,C]=Object(l.useState)(0),[w,k]=Object(l.useState)(""),[T,G]=Object(l.useState)(""),[R,P]=Object(l.useState)(null),[F,I]=Object(l.useState)(""),[B,U]=Object(l.useState)(""),[q,M]=Object(l.useState)(!1),[_,J]=Object(l.useState)({});return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("title",null,"Agregar Actividad - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",null,r.a.createElement(H,{titulo:"Agregar Actividad"}),r.a.createElement("div",{className:"Container"},r.a.createElement(p.a,{id:"form",onSubmit:async t=>{if(t.preventDefault(),M(!1),J(""),console.log(h),""===d||""===m||""===a||""===n||""===c||""===h||""===j||""===O||""===w||null===R)return M(!0),void J({tipo:"error",mensaje:"Todos los campos son obligatorios"});try{const t=Object(A.c)(D,"posters/".concat(F));await Object(A.d)(t,R);const r=await Object(A.a)(t),o=new Date("".concat(a,"T").concat(n,":00")).toISOString(),i=h.split(",").map(e=>e.trim()),s=Object(x.c)(L,"activities/".concat(d));Object(x.i)(s,{activityName:d,activityType:m,dateTime:o,week:c,responsibles:i,daysBeforeAnnounce:j,reminderDays:O,modality:w,link:T,poster:r,state:"PLANEADA",justification:""}),M(!0),J({tipo:"exito",mensaje:"Actividad agregada correctamente"}),e("/planTrabajoGuia")}catch(l){console.error("Error adding activity:",l),M(!0),J({tipo:"error",mensaje:"Ocurri\xf3 un error al agregar la actividad"})}}},r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Nombre de la actividad"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Nombre de la actividad",value:d,onChange:e=>f(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Tipo de actividad"),r.a.createElement(b.a,null,r.a.createElement(p.a.Select,{"aria-label":"Tipo de actividad",value:m,onChange:e=>u(e.target.value)},r.a.createElement("option",{value:""},"Seleccione un tipo de actividad"),r.a.createElement("option",{value:"Orientadora"},"Orientadora"),r.a.createElement("option",{value:"Motivacional"},"Motivacional"),r.a.createElement("option",{value:"Apoyo a la vida estudiantil"},"Apoyo a la vida estudiantil"),r.a.createElement("option",{value:"Orden tecnico"},"Orden tecnico"),r.a.createElement("option",{value:"Recreacion"},"Recreacion")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Fecha programada"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"date",placeholder:"Fecha programada",value:a,onChange:e=>{const a=e.target.value;t(a)}}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Hora programada"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"time",placeholder:"Hora programada",value:n,onChange:e=>o(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Semana"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",placeholder:"Semana",value:c,onChange:e=>i(e.target.value),min:"1",max:"16"})),r.a.createElement(p.a.Text,{className:"text-muted"},"Semana del semestre en la que se realizar\xe1 la actividad.")),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Responsables"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Responsables",value:h,onChange:e=>y(e.target.value)})),r.a.createElement(p.a.Text,{className:"text-muted"},"Ingrese los nombres de los responsables separados por comas.")),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"D\xedas antes de anunciar"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",placeholder:"D\xedas antes de anunciar",value:j,onChange:e=>N(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"D\xedas de recordatorio"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"number",placeholder:"D\xedas de recordatorio",value:O,onChange:e=>C(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Modalidad"),r.a.createElement(b.a,null,r.a.createElement(p.a.Select,{"aria-label":"Modalidad",value:w,onChange:e=>{k(e.target.value),"Remota"!==w?G("No aplica"):"Remota"===w&&G("")}},r.a.createElement("option",{value:""},"Seleccione una modalidad"),r.a.createElement("option",{value:"Presencial"},"Presencial"),r.a.createElement("option",{value:"Remota"},"Remota")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Link"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Link",value:T,disabled:"Remota"!==w,readOnly:"Remota"!==w,onChange:e=>G(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Cartel"),r.a.createElement(b.a,null,r.a.createElement(p.a.Control,{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e="".concat(Object(pe.a)(),"-").concat(a.name);P(a),I(e)}}}))),r.a.createElement(v.a,{className:"Button",variant:"primary",type:"submit"},"Agregar"),r.a.createElement(v.a,{className:"Button",variant:"secondary",type:"button",onClick:()=>{e("/planTrabajoGuia")}},"Regresar")))),r.a.createElement(S,{tipo:_.tipo,mensaje:_.mensaje,estadoAlerta:q,setestadoAlerta:M}))};var ge=()=>{const{user:e}=R(),a=Object(s.q)(),[t,n]=Object(l.useState)(""),[o,c]=Object(l.useState)(""),[i,m]=Object(l.useState)(""),[u,d]=Object(l.useState)(""),[f,h]=Object(l.useState)(""),[y,j]=Object(l.useState)(""),[N,O]=Object(l.useState)(""),[C,S]=Object(l.useState)(""),[w,x]=Object(l.useState)(!1),[k,L]=Object(l.useState)(null),[T,G]=Object(l.useState)(""),P=void 0===e.coordinador,F="Cartago"===e.sede;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("title",null,"Agregar Profesor - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",null,r.a.createElement(H,{titulo:"Agregar Profesor"}),r.a.createElement("div",{className:"Container"},r.a.createElement(p.a,{id:"form",onSubmit:async e=>{if(e.preventDefault(),""!==t&&""!==i&&""!==f&&""!==y&&""!==N&&""!==C)try{const e=Object(A.c)(D,"Profesores/".concat(t,"-").concat(k.name)),l=Object(A.e)(e,k);l.on("state_changed",e=>{const a=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+a+"% done")},e=>{throw e},async()=>{const e=await Object(A.a)(l.snapshot.ref);console.log("File available at",e),await V(t,e,f,y,N,C,o,i,u,w,!0,T),a("/edicionGuia")})}catch(n){console.error("Error during the image upload: ",n),alert("Error al subir la imagen. Por favor, intenta de nuevo.")}else alert("Por favor, llena todos los campos")}},r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Subir Imagen"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"file",onChange:e=>{L(e.target.files[0])},accept:"image/*"}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Nombre"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Nombre",value:t,onChange:e=>n(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Segundo Nombre"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Segundo Nombre",value:o,onChange:e=>c(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Apellido"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Apellido",value:i,onChange:e=>m(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Segundo Apellido"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Segundo Apellido",value:u,onChange:e=>d(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Sede"),r.a.createElement(b.a,null,r.a.createElement(p.a.Select,{value:f,onChange:e=>h(e.target.value),"aria-label":"Selecciona una sede"},r.a.createElement("option",{value:""},"Selecciona una sede"),r.a.createElement("option",{value:"Cartago"},"Cartago"),r.a.createElement("option",{value:"San Jose"},"San Jose"),r.a.createElement("option",{value:"Alajuela"},"Alajuela"),r.a.createElement("option",{value:"San Carlos"},"San Carlos"),r.a.createElement("option",{value:"Limon"},"Lim\xf3n")))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Email"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"email",placeholder:"Email",value:y,onChange:e=>j(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,{htmlFor:"password"},"Password"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"password",value:T,placeholder:"Password",onChange:e=>G(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"N\xfamero de oficina"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"N\xfamero de oficina",value:N,onChange:e=>O(e.target.value)}))),r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null,"Celular"),r.a.createElement(b.a,null,r.a.createElement(g.a,{type:"text",placeholder:"Celular",value:C,onChange:e=>S(e.target.value)}))),P&&F&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Group,{className:"input-control"},r.a.createElement(p.a.Label,null),r.a.createElement(b.a,null,r.a.createElement(p.a.Check,{type:"checkbox",label:"Coordinador",value:w,onChange:e=>x(e.target.checked)})))),r.a.createElement(v.a,{className:"Button",variant:"primary",type:"submit"},"Agregar")))))};t(93);var ve=()=>{const{user:e}=R(),[a,t]=Object(l.useState)("estudiantes"),[n,o]=Object(l.useState)([[]]),[c,i]=Object(l.useState)([]),[s,m]=Object(l.useState)(null),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)({}),[g,v]=Object(l.useState)([]),[f,h]=Object(l.useState)(null);Object(l.useEffect)(()=>{"estudiantes"===a&&j()},[e.sede]);const y=()=>{(async()=>{try{const a=Object(x.b)(L,"archivos"),t=await Object(x.e)(a),n=[];for(const e of t.docs){const a={archivoRef:e.data().archivoRef,sede:e.data().sede};n.push(a)}const l=Object(A.b)(),r=await Promise.all(n.map(async e=>{const a=Object(A.c)(l,e.archivoRef),t=await Object(A.a)(a),n=await fetch(t),r=await n.blob();return new File([r],e.archivoRef)}));return console.log("Archivos descargados exitosamente:",r),r}catch(e){console.error("Error al obtener todos los archivos:",e)}})(e.sede).then(e=>{const a=e.map(e=>e.name);N(e[0]),v(e),h(e[0]),i(a),m(a[0])}).catch(e=>{console.error("Error al cargar los archivos:",e),d(!0),b({tipo:"error",mensaje:"No se pudo cargar los archivos"})})},j=()=>{de(e.sede).then(e=>{console.log(e),N(e)}).catch(e=>{console.error("Error al cargar los archivos:",e),d(!0),b({tipo:"error",mensaje:"No se pudo cargar los archivos"})})},N=e=>{const a=new FileReader;a.onload=function(e){const a=e.target.result,t=ue.a(a,{type:"binary"}),n=t.SheetNames[0],l=t.Sheets[n],r=ue.b.sheet_to_json(l,{header:1});o(r)},a.readAsBinaryString(e)},O=e=>{t(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Lista De Estudiantes"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Lista De Estudiantes - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:"tabs"},r.a.createElement("button",{className:"estudiantes"===a?"active":"",onClick:()=>{O("estudiantes"),j()}},"Mi Sede"),r.a.createElement("button",{className:"profesores"===a?"active":"",onClick:()=>{O("profesores"),y()}},"Todas las Sedes")),r.a.createElement("div",{className:"subtituloH"},r.a.createElement("h1",null,"Lista de Estudiantes de la sede del TEC")),r.a.createElement("div",{className:"excelDataContainer"},r.a.createElement("div",{className:"tableWrapper"},r.a.createElement("table",{className:"excelTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"indexCell"})," ",n.length>0&&n[0].map((e,a)=>r.a.createElement("td",{key:a,className:"indexCell"},(()=>{const e=[];for(let a=65;a<=90;a++)e.push(String.fromCharCode(a));return e})()[a]))),[...Array(n.length).keys()].map(e=>r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"indexCell"},e+1)," ",n[e].map((e,a)=>r.a.createElement("td",{key:a},e)))))))),"estudiantes"===a&&r.a.createElement("div",{className:"excelDataContainer"},r.a.createElement("div",{className:"tableWrapper"})),"profesores"===a&&r.a.createElement("div",{className:"excelDataContainer"},r.a.createElement("div",{className:"menuContainer"},r.a.createElement("div",{className:"menu"},c.map((e,a)=>r.a.createElement("button",{key:a,className:"menuButton ".concat(e===s?"active":""),onClick:()=>((e,a)=>{m(e),h(a),N(a)})(e,g[a])},e))," ")),r.a.createElement("div",{className:"tableWrapper"}),r.a.createElement("button",{className:"excel-button2",onClick:()=>{let e=ue.b.book_new();g.forEach(a=>{if(a){const t=new FileReader;t.onload=function(t){const n=t.target.result,l=ue.a(n,{type:"binary"});l.SheetNames.forEach(a=>{const t=l.Sheets[a];ue.b.book_append_sheet(e,t,a)}),a===g[g.length-1]&&ue.c(e,"sedes.xlsx")},t.readAsBinaryString(a)}})}},"Descargar Todo")),r.a.createElement("button",{className:"excel-button",onClick:()=>{if(f){const e=f,a=new FileReader;a.onload=function(a){const t=a.target.result,n=ue.a(t,{type:"binary"});n.SheetNames.forEach(a=>{const t=n.Sheets[a],l=ue.b.book_new();ue.b.book_append_sheet(l,t,a),ue.c(l,e.name)})},a.readAsBinaryString(e)}}},"Descargar Sede"))};t(94);var fe=()=>{const{activityId:e}=Object(s.s)(),[a,t]=r.a.useState(null);return r.a.useEffect(()=>{(async()=>{const a=Object(x.c)(L,"activities",e),n=await Object(x.d)(a);n.exists()?t(n.data()):console.log("No such document!")})()},[e]),a?r.a.createElement("div",null,r.a.createElement("h1",null,"Evidencias de la Actividad"),r.a.createElement("div",{className:"container-evidencias"},a.imageUrls&&a.imageUrls.length>0?a.imageUrls.map((e,a)=>r.a.createElement("div",{key:a,className:"evidencia"},r.a.createElement("img",{src:e,alt:"Evidencia ".concat(a+1)}))):r.a.createElement("p",null,"Actividad no finalizada")),r.a.createElement("div",{className:"container-link"},a.link?r.a.createElement("h1",null,r.a.createElement("a",{href:a.link,target:"_blank",rel:"noreferrer"},"Grabaci\xf3n")):r.a.createElement("h1",null,"No hay link"))):r.a.createElement("div",null,"Loading...")};t(95);var he=()=>{const[e,a]=Object(l.useState)([]),[t,n]=Object(l.useState)([]),[o,c]=Object(l.useState)(!1);Object(s.q)();Object(l.useEffect)(()=>{i()},[]);const i=async()=>{try{const t=(await Object(x.e)(Object(x.b)(L,"activities"))).docs.map(e=>({id:e.id,...e.data()}));a(t),n(t)}catch(e){console.error("Error fetching activities:",e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{titulo:"Plan de Trabajo",id:"navBar"}),r.a.createElement(E.a,null,r.a.createElement("title",null,"Plan de Trabajo - Tecnol\xf3gico de Costa Rica")),r.a.createElement("div",{className:"subtituloH"},r.a.createElement("h1",null,"Lista de trabajos existentes")),r.a.createElement("div",{className:"PlanTrabajoGuia"},t&&t.length>0?t.map((e,a)=>r.a.createElement("div",{key:a,className:"activity-full-container"},r.a.createElement(oe,{activity:e}))):r.a.createElement("p",null,"No hay actividades pr\xf3ximas.")),r.a.createElement("div",{className:"page-buttons"},o?r.a.createElement("button",{type:"button",onClick:()=>{n(e),c(!1)}},"Devolverse"):r.a.createElement("button",{type:"button",onClick:()=>{const a=new Date,t=e.filter(e=>new Date(e.dateTime)>a&&("PLANEADA"===e.state||"NOTIFICADA"===e.state));if(t.length>0){const e=t.reduce((e,t)=>{const n=new Date(e.dateTime),l=new Date(t.dateTime);return n-a<l-a?e:t});n([e])}else n([]);c(!0)}},"Consultar \xdaltimo Proyecto")))};var ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("link",{rel:"shortcut icon",href:U.a,type:"image/x-ico"})),r.a.createElement(P,null,r.a.createElement(i.a,null,r.a.createElement(s.e,null,r.a.createElement(s.c,{path:"/iniciarsesion",element:r.a.createElement(I,null)}),r.a.createElement(s.c,{path:"/historial",element:r.a.createElement(ae,null)}),r.a.createElement(s.c,{path:"/inicio",element:r.a.createElement(W,null)}),r.a.createElement(s.c,{path:"/equipoGuia",element:r.a.createElement(ne,null)}),r.a.createElement(s.c,{path:"/edicionGuia",element:r.a.createElement(re,null)}),r.a.createElement(s.c,{path:"/planTrabajoGuia",element:r.a.createElement(me,null)}),r.a.createElement(s.c,{path:"/agregarActividad",element:r.a.createElement(be,null)}),r.a.createElement(s.c,{path:"/ListaDeEstudiantes",element:r.a.createElement(Ee,null)}),r.a.createElement(s.c,{path:"/ListaDeEstudiantesProfesores",element:r.a.createElement(ve,null)}),r.a.createElement(s.c,{path:"/agregarProfesor",element:r.a.createElement(ge,null)}),r.a.createElement(s.c,{path:"/planTrabajoCentroAcademico",element:r.a.createElement(he,null)}),r.a.createElement(s.c,{path:"/verEvidencia/:activityId",element:r.a.createElement(fe,null)}),r.a.createElement(s.c,{element:r.a.createElement(te,null)},r.a.createElement(s.c,{path:"/",element:r.a.createElement(W,null)})))),r.a.createElement(q,null)))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)))}},[[62,1,2]]]);
//# sourceMappingURL=main.5857c55c.chunk.js.map